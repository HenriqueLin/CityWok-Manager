{% extends 'layout.html' %}
{% set active_page = "income" %}
{% block content %}
<div>
    <!-- title -->
    <h1>{{title}}</h1>
    <hr>
    <form action="" method="post" enctype='multipart/form-data' novalidate autocomplete="off">
        {{ form.hidden_tag() }}
        <div class="row gy-3 overflow-hidden">
            <div>
                {% with field=form.date %}
                {% include 'field.html' %}
                {% endwith %}
            </div>
            <div>
                {% with field=form.t_revenue %}
                {% include 'field.html' %}
                {% endwith %}
            </div>
            <div>
                {% with field=form.cash %}
                {% include 'field.html' %}
                {% endwith %}
            </div>
            {% for subform in form.cards %}
            <div class="col-sm-4">
                <div>
                    {% with field=subform.total %}
                    {% include 'field.html' %}
                    {% endwith %}
                </div>
            </div>
            {% endfor %}
            {% for subform in form.cards %}
            <div class="col-sm-4">
                <div>
                    {% with field=subform.fee %}
                    {% include 'field.html' %}
                    {% endwith %}
                </div>
            </div>
            {% endfor %}
            {% if form.errors[None] %}
            <span class="text-danger col-sm-8">{{ form.errors[None][0] }}</span>
            {% endif %}
            <div>
                {% with field=form.files %}
                {% include 'field.html' %}
                {% endwith %}
            </div>
            <div>
                {% with field=form.remark %}
                {% include 'field.html' %}
                {% endwith %}
            </div>
            <div class="gx-3">
                {#
                {% if request.endpoint == 'expense.new_non_labor' %}
                #}
                {{ form.submit(class="btn btn-outline-success ms-1 float-end") }}
                {#
                <a href="{{url_for('expense.index')}}" class="btn btn-outline-secondary float-end">{{_('Cancel')}}</a>
                {% elif request.endpoint == 'expense.update_non_labor' %}
                {{ form.update(class="btn btn-outline-primary ms-1 float-end") }}
                <a href="{{url_for('expense.detail',expense_id=expense_id)}}"
                    class="btn btn-outline-secondary float-end">{{_('Cancel')}}</a>
                {% endif %}
                #}
            </div>
        </div>
    </form>
</div>
{% endblock content %}